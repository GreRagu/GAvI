<!DOCTYPE article PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Archiving and Interchange DTD v1.0 20120330//EN" "JATS-archivearticle1.dtd"><article xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:mml="http://www.w3.org/1998/Math/MathML" article-type="research-article"><?properties open_access?><front><journal-meta><journal-id journal-id-type="nlm-ta">BMC Med Inform Decis Mak</journal-id><journal-title-group><journal-title>BMC Medical Informatics and Decision Making</journal-title></journal-title-group><issn pub-type="epub">1472-6947</issn><publisher><publisher-name>BioMed Central</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="pmid">19149883</article-id><article-id pub-id-type="pmc">2648953</article-id><article-id pub-id-type="publisher-id">1472-6947-9-3</article-id><article-id pub-id-type="doi">10.1186/1472-6947-9-3</article-id><article-categories><subj-group subj-group-type="heading"><subject>Research Article</subject></subj-group></article-categories><title-group><article-title>The SAIL databank: linking multiple health and social care datasets</article-title></title-group><contrib-group><contrib contrib-type="author" corresp="yes" id="A1"><name><surname>Lyons</surname><given-names>Ronan A</given-names></name><xref ref-type="aff" rid="I1">1</xref><email>r.a.lyons@swansea.ac.uk</email></contrib><contrib contrib-type="author" equal-contrib="yes" id="A2"><name><surname>Jones</surname><given-names>Kerina H</given-names></name><xref ref-type="aff" rid="I1">1</xref><email>k.h.jones@swansea.ac.uk</email></contrib><contrib contrib-type="author" id="A3"><name><surname>John</surname><given-names>Gareth</given-names></name><xref ref-type="aff" rid="I2">2</xref><email>gareth.john@hsw.wales.nhs.uk</email></contrib><contrib contrib-type="author" equal-contrib="yes" id="A4"><name><surname>Brooks</surname><given-names>Caroline J</given-names></name><xref ref-type="aff" rid="I1">1</xref><email>c.brooks@swansea.ac.uk</email></contrib><contrib contrib-type="author" id="A5"><name><surname>Verplancke</surname><given-names>Jean-Philippe</given-names></name><xref ref-type="aff" rid="I1">1</xref><email>p.verplancke@swansea.ac.uk</email></contrib><contrib contrib-type="author" id="A6"><name><surname>Ford</surname><given-names>David V</given-names></name><xref ref-type="aff" rid="I1">1</xref><email>d.v.ford@swansea.ac.uk</email></contrib><contrib contrib-type="author" id="A7"><name><surname>Brown</surname><given-names>Ginevra</given-names></name><xref ref-type="aff" rid="I1">1</xref><email>g.brown@swansea.ac.uk</email></contrib><contrib contrib-type="author" id="A8"><name><surname>Leake</surname><given-names>Ken</given-names></name><xref ref-type="aff" rid="I2">2</xref><email>ken.leake@swansea.ac.uk</email></contrib></contrib-group><aff id="I1"><label>1</label>Health Information Research Unit (HIRU), Centre for Health Information Research &#x00026; Evaluation (CHIRAL), School of Medicine, Swansea University, Swansea, Wales, UK</aff><aff id="I2"><label>2</label>Health Solutions Wales (HSW), Brunel House, Cardiff, Wales, UK</aff><pub-date pub-type="collection"><year>2009</year></pub-date><pub-date pub-type="epub"><day>16</day><month>1</month><year>2009</year></pub-date><volume>9</volume><fpage>3</fpage><lpage>3</lpage><history><date date-type="received"><day>25</day><month>7</month><year>2008</year></date><date date-type="accepted"><day>16</day><month>1</month><year>2009</year></date></history><permissions><copyright-statement>Copyright &#x000a9;2009 Lyons et al; licensee BioMed Central Ltd.</copyright-statement><copyright-year>2009</copyright-year><copyright-holder>Lyons et al; licensee BioMed Central Ltd.</copyright-holder><license license-type="open-access" xlink:href="http://creativecommons.org/licenses/by/2.0"><license-p>This is an Open Access article distributed under the terms of the Creative Commons Attribution License (<ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/licenses/by/2.0">http://creativecommons.org/licenses/by/2.0</ext-link>), which permits unrestricted use, distribution, and reproduction in any medium, provided the original work is properly cited.</license-p></license></permissions><self-uri xlink:href="http://www.biomedcentral.com/1472-6947/9/3"/><abstract><sec><title>Background</title><p>Vast amounts of data are collected about patients and service users in the course of health and social care service delivery. Electronic data systems for patient records have the potential to revolutionise service delivery and research. But in order to achieve this, it is essential that the ability to link the data at the individual record level be retained whilst adhering to the principles of information governance. The SAIL (Secure Anonymised Information Linkage) databank has been established using disparate datasets, and over 500 million records from multiple health and social care service providers have been loaded to date, with further growth in progress.</p></sec><sec><title>Methods</title><p>Having established the infrastructure of the databank, the aim of this work was to develop and implement an accurate matching process to enable the assignment of a unique Anonymous Linking Field (ALF) to person-based records to make the databank ready for record-linkage research studies. An SQL-based matching algorithm (MACRAL, Matching Algorithm for Consistent Results in Anonymised Linkage) was developed for this purpose. Firstly the suitability of using a valid NHS number as the basis of a unique identifier was assessed using MACRAL. Secondly, MACRAL was applied in turn to match primary care, secondary care and social services datasets to the NHS Administrative Register (NHSAR), to assess the efficacy of this process, and the optimum matching technique.</p></sec><sec><title>Results</title><p>The validation of using the NHS number yielded specificity values &#x0003e; 99.8% and sensitivity values &#x0003e; 94.6% using probabilistic record linkage (PRL) at the 50% threshold, and error rates were &#x0003c; 0.2%. A range of techniques for matching datasets to the NHSAR were applied and the optimum technique resulted in sensitivity values of: 99.9% for a GP dataset from primary care, 99.3% for a PEDW dataset from secondary care and 95.2% for the PARIS database from social care.</p></sec><sec><title>Conclusion</title><p>With the infrastructure that has been put in place, the reliable matching process that has been developed enables an ALF to be consistently allocated to records in the databank. The SAIL databank represents a research-ready platform for record-linkage studies.</p></sec></abstract></article-meta></front><body><sec><title>Background</title><p>Recent years have seen a huge growth in the development of electronic systems to capture individual records in the course of health and social care service delivery [<xref ref-type="bibr" rid="B1">1</xref>]. These routinely-collected data have enormous potential in health-related research, quality improvement, service planning and enhanced clinical decision-making [<xref ref-type="bibr" rid="B2">2</xref>], and such information could revolutionise health research if longitudinal individual health records can be developed from existing systems or through new developments [<xref ref-type="bibr" rid="B3">3</xref>].</p><p>The Health Information Research Unit (HIRU) is an initiative developed by the School of Medicine at Swansea University. It is core-funded through the Wales Office of Research &#x00026; Development as part the Welsh Assembly Government's commitment to the UK Clinical Research Collaboration (UKCRC) [<xref ref-type="bibr" rid="B4">4</xref>]. The main aim of HIRU is to realise the potential of electronically-held, person-based, routinely-collected information for the purpose of conducting and supporting health-related research. HIRU has set up the SAIL (Secure Anonymised Information Linkage) databank to bring together and link the widest possible range of anonymised person-based data, and has done this using a split-file approach to anonymisation to overcome the confidentiality and disclosure issues in health-related data warehousing. Through this method, datasets being provided to the SAIL databank are split at the source organisation into demographic data and clinical data. A system linking field is used to ensure the data can be re-joined later. The demographic data comprises the commonly-recognised person-based variables of first name, surname, gender, date of birth and postcode. The clinical data covers data such as diagnostic tests, therapeutic procedures and interventions, and these data are transferred directly to HIRU. The demographic data are transferred to Health Solutions Wales (HSW) [<xref ref-type="bibr" rid="B5">5</xref>] for pseudonymisation and the allocation of an Anonymous Linking Field (ALF) to each record in place of the demographic data. An ALF takes the form of a unique 10-digit number assigned to each individual in a dataset. This product is transferred to HIRU where it is joined to the clinical data via the system linking field [<xref ref-type="bibr" rid="B6">6</xref>].</p><p>Although the SAIL data are anonymised and encrypted, it is essential that the capability to link the data at the individual record level be retained if they are to be useful in health research. Linkage is necessary for a variety of reasons, including: to allow links within and between databases from different sources; to ensure comparisons are meaningful; to assess the completeness of recruitment to research studies; to allow inequalities in health and wider factors (such as social issues) to be investigated; to validate research findings; and to enhance patient follow-up and adverse event reporting in clinical trials [<xref ref-type="bibr" rid="B7">7</xref>-<xref ref-type="bibr" rid="B9">9</xref>]. Successful record linkage is dependent on the presence of specific variables in the dataset that can reliably be used in the matching process to assign a consistent identifier for each individual. In some cases an exact match can be created, providing deterministic record linkage (DRL). However, it is more usual in complex datasets that some values are missing, and that unique identifiers are not present for all, if any, records. In these cases probabilistic record linkage (PRL) methods are used, taking account of the probabilities of agreement and disagreement between a range of matching variables [<xref ref-type="bibr" rid="B10">10</xref>,<xref ref-type="bibr" rid="B11">11</xref>]. Because of this, PRL tends to have a higher sensitivity, but a lower specificity than DRL [<xref ref-type="bibr" rid="B12">12</xref>].</p><p>In the UK, health and social care are provided by multiple agencies using disparate database systems. There is no system of unique national identity number, but all persons registered with the National Health Service (NHS) in England and Wales are assigned a unique 10-digit NHS number, and this is used as the personal identifier for patients across different NHS organisations [<xref ref-type="bibr" rid="B13">13</xref>]. As well as this, the regularly maintained NHS Administrative Register (NHSAR) which comprises details of everyone who has registered or accessed health services in Wales, can be used as a proxy for a Welsh-population database. It contains identifying information such as name, address (and historical addresses), postcode, gender, date of birth, general practice of registration and the NHS number.</p><p>Having established the infrastructure of the SAIL databank [<xref ref-type="bibr" rid="B6">6</xref>], the aim of the study described here was to implement an accurate matching process to enable the assignment of an ALF to person-based records so that the databank is ready for record-linkage research studies.</p></sec><sec sec-type="methods"><title>Methods</title><sec><title>Questions to be addressed</title><p>Methods were devised to address two questions. The first question assessed the accuracy of accepting the NHS number supplied in routine NHS data as the basis of a unique identifier. The second question assessed the effect on numbers of records matched of varying the techniques applied in matching each of three different datasets to the NHSAR. As this study involved work with potentially person-identifiable variables it was conducted in Health Solutions Wales (HSW) who act as the Trusted Third Party (TTP) in providing HIRU with a data pseudonymisation service [<xref ref-type="bibr" rid="B6">6</xref>].</p></sec><sec><title>Datasets</title><p>Three test datasets of person-based records from the health economy of Swansea were used in this study. These were: a primary care dataset from across the general practices (GP) in the area; a secondary care dataset of hospital in-patient data from the Patient Episode Database for Wales (PEDW); and a local authority social services dataset called the PARIS system. The PARIS system is an electronic record of individuals receiving various social services including, mental health, learning disabilities and elderly care under the auspices of the local authority. These will be referred to as the GP dataset, the PEDW dataset and the PARIS dataset, respectively. As part of NHS primary and secondary care services, the GP and PEDW datasets are structured to include an NHS number. The PARIS database, as part of social services, does not contain NHS numbers. The criteria used to assess matching efficacy were: forename, surname, gender, postcode of residence and date of birth. These will be referred to as the set of matching variables. The NHSAR was used as the reference dataset and records in the test datasets would be expected to have a match on the NHSAR.</p></sec><sec><title>Matching algorithm</title><p>The MACRAL (Matching Algorithm for Consistent Results in Anonymised Linkage) algorithm was developed for the work of HIRU. MACRAL is an SQL-based algorithm that is used to apply DRL and PRL methods to the set of matching variables. DRL looks for an exact match on all five variables. The probability-based linkages make use of a variety of techniques, including some which allow similar but not identical query strings to be accepted as possible matches [<xref ref-type="bibr" rid="B14">14</xref>]. These include Lexicon matching and Soundex matching. The Lexicon used in this study is a Welsh-specific list of alternative forenames, based on variants in the registered name given by persons listed on the NHSAR, such as Betty, Elsie, Liz, etc. for Elizabeth. Soundex matching is a standard technique that uses codes for variant phonetic spellings of the forename or surname. Probabilities are assigned to the match success, and these are based on likelihood ratios calculated using a Bayesian approach of prior and posterior odds, by taking into account the distributions of the set of variables on the NHSAR for the Welsh population. For example, it takes into account the occurrence of common surnames, such as Jones, in deriving the likelihood ratio to create the weighting assigned to the match. It also recognises the non-independence of certain pieces of information, such as the male gender and recognised male first names, in generating the likelihood ratio.</p><p>The posterior odds are calculated as:</p><p>Posterior odds = prior odds * likelihood ratio</p><p>The likelihood ratios are calculated as follows:</p><p>Firstly, where the demographic variables match (e.g. on surname) -</p><p><disp-formula><mml:math id="M1" name="1472-6947-9-3-i1" overflow="scroll"><mml:semantics><mml:mrow><mml:mtext>Likelihood&#x000a0;ratio</mml:mtext><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mi>p</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mtext>match|records&#x000a0;relate&#x000a0;to&#x000a0;the&#x000a0;same&#x000a0;person</mml:mtext><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mrow><mml:mi>p</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mtext>match|records&#x000a0;relate&#x000a0;to&#x000a0;a&#x000a0;different&#x000a0;person</mml:mtext><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mfrac></mml:mrow></mml:semantics></mml:math></disp-formula></p><p>And where the demographic variables do not match -</p><p><disp-formula><mml:math id="M2" name="1472-6947-9-3-i2" overflow="scroll"><mml:semantics><mml:mrow><mml:mtext>Likelihood&#x000a0;ratio</mml:mtext><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mi>p</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mtext>non-match|records&#x000a0;relate&#x000a0;to&#x000a0;the&#x000a0;same&#x000a0;person</mml:mtext><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mrow><mml:mi>p</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mtext>non-match|records&#x000a0;relate&#x000a0;to&#x000a0;a&#x000a0;different&#x000a0;person</mml:mtext><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mfrac></mml:mrow></mml:semantics></mml:math></disp-formula></p><p>In this way, pairs of variables found to match increase the odds of a match and pairs of variables that don't match decrease the odds. This is applied to each of the set of five variables for each record to produce the final cumulative probability of a match. Acceptable matching thresholds for a given dataset can be specified as required. A range of matching probabilities with cut off points of 99%, 95%, 90% and 50% were assessed for each of the three datasets in this study.</p></sec><sec><title>Assessing the accuracy of NHS numbers in routine data</title><p>This was addressed by matching each of two NHS datasets against the NHSAR on the set of matching variables, and using the results to allocate an NHS number to the records in those datasets. These were a GP dataset and a PEDW dataset. A GP dataset of registered patients (n = 229,127) was extracted for this study, and of this, the sub-set of 229,117 records with a valid NHS number was used. A sub-set of the PEDW data was used to ensure manageable computations, and it was arbitrarily set as records with admission dates on the 15th of every month from 1998&#x02013;2007 (n = 290,650). Of this sub-set, records with a valid NHS number were used to develop a test dataset (n = 264,868). The resulting GP and PEDW datasets included the set of matching variables. Supplied NHS numbers were validated by using the NHS check digit algorithm [<xref ref-type="bibr" rid="B15">15</xref>]. DRL and PRL methods were applied to the set of variables to allocate an NHS number to the records in the GP and PEDW datasets. The degree of agreement between the allocated NHS number and the NHS number supplied in the dataset was checked and used to calculate specificity and sensitivity values. These are defined respectively in this context as: number of matches found to correspond to the same NHS number in the GP or PEDW dataset, and total number of matches made. Where this process resulted in disagreement this was taken as an error in the matching process or in the GP or PEDW dataset, as this work uses the assumption that the reference dataset (the NHSAR) is 100% accurate. There are four possible outcomes in the record matching process: true positive (correct match), false positive (mis-match), true negative (no link present) and false negative (link missed) [<xref ref-type="bibr" rid="B16">16</xref>]. However, as all analyses were conducted on anonymised data it was not possible for us to check the actual source of any error, which could be done by reviewing individual clinical notes. This is a limitation of the study and we aim to address this issue in the future so that we can differentiate between the sources of error.</p></sec><sec><title>Varying the probability threshold and optimising the matching technique</title><p>The second question measured the impact, on the numbers of records that could be matched, of adopting different probability thresholds and techniques. Cut-off points of 99%, 95%, 90% and 50% were used for each of the three datasets. The GP dataset of registered patients (n = 229,127) extracted for this study was used in full (i.e. including the records without a valid NHS number). Registered patients were chosen to ensure that they were resident in the area and therefore expected to be included on the NHSAR. The PEDW dataset described earlier, including the records without a valid NHS number (n = 290,650), was used. Finally, the assessment was conducted on the PARIS dataset. The numbers on this system are much smaller than on many NHS systems and the entire database (n = 18,540) was anonymised and matched with the NHSAR to assess what proportion of records could be linked to a unique individual within the NHSAR. In each case, the numbers of records in agreement with the NHSAR were taken as successful matches and those resulting in disagreement as error (as previously). However, error rates are not quoted in this case, as the datasets included records without a valid NHS number, and the NHS number is used as the cross-check to calculate the error rate.</p></sec></sec><sec><title>Results</title><sec><title>Assessing the accuracy of NHS numbers in routine data</title><p>The initial question assessed the level of accuracy that could be obtained by using a valid NHS number as the basis of an anonymous identifier in routine data. Table <xref ref-type="table" rid="T1">1</xref> shows the results of comparing the NHS number supplied in the GP and PEDW datasets with the NHS number allocated via PRL &#x00026; DRL methods. The level of agreement between supplied and allocated NHS number was high with disagreement (error) levels of &#x0003c; 0.2%. DRL produced the lower disagreement level, as would be expected with higher specificity, but PRL enabled the greater proportion of records to be linked.</p><table-wrap id="T1" position="float"><label>Table 1</label><caption><p>Assessing the accuracy of NHS numbers in routine data.</p></caption><table frame="hsides" rules="groups"><thead><tr><th align="center">Data Source</th><th align="center">Type of Record Linkage</th><th align="center" colspan="6">Result of comparing the NHS number allocated by the record linkage process with the original submitted NHS number</th></tr><tr><th/><th/><th colspan="6"><hr/></th></tr><tr><th/><th/><th align="center">Same</th><th align="center">Different</th><th align="center">Not found</th><th align="center">% Agreement</th><th align="center">% Disagreement</th><th align="center">% Linked</th></tr><tr><th/><th/><th colspan="6"><hr/></th></tr><tr><th/><th/><th align="center">Allocated NHS number <bold>equals </bold>the submitted NHS number</th><th align="center">Allocated NHS number <bold>differs </bold>to the submitted NHS number</th><th align="center">An NHS number is <bold>not found </bold>by the record linkage process</th><th align="center">Of the records that were allocated an NHS number, the percentage that were allocated an NHS number equal to the NHS number submitted</th><th align="center">Of the records that were allocated an NHS number, the percentage that were allocated an NHS number different to the NHS number submitted</th><th align="center">Of the records that were processed, the percentage that were allocated an NHS Number</th></tr><tr><th/><th/><th colspan="6"><hr/></th></tr><tr><th/><th/><th align="center">a</th><th align="center">b</th><th align="center">c</th><th align="center">= a/(a+b)</th><th align="center">= b/(a+b)</th><th align="center">= (a+b)/(a+b+c)</th></tr></thead><tbody><tr><td align="center">Primary Care Practice Clinical Systems (GP) (n = 229,117)</td><td align="center">DRL</td><td align="center">223,344</td><td align="center">40</td><td align="center">5,733</td><td align="center">99.982%</td><td align="center">0.018%</td><td align="center">97.498%</td></tr><tr><td/><td colspan="7"><hr/></td></tr><tr><td/><td align="center">PRL &#x02013; 99% cut off</td><td align="center">227,778</td><td align="center">51</td><td align="center">1,288</td><td align="center">99.978%</td><td align="center">0.022%</td><td align="center">99.438%</td></tr><tr><td/><td colspan="7"><hr/></td></tr><tr><td/><td align="center">PRL &#x02013; 95% cut off</td><td align="center">228,288</td><td align="center">55</td><td align="center">774</td><td align="center">99.976%</td><td align="center">0.024%</td><td align="center">99.662%</td></tr><tr><td/><td colspan="7"><hr/></td></tr><tr><td/><td align="center">PRL &#x02013; 90% cut off</td><td align="center">228,479</td><td align="center">56</td><td align="center">582</td><td align="center">99.976%</td><td align="center">0.025%</td><td align="center">99.746%</td></tr><tr><td/><td colspan="7"><hr/></td></tr><tr><td/><td align="center">PRL &#x02013; 50% cut off</td><td align="center">228,699</td><td align="center">61</td><td align="center">357</td><td align="center">99.973%</td><td align="center">0.027%</td><td align="center">99.844%</td></tr><tr><td colspan="8"><hr/></td></tr><tr><td align="center">Secondary Care Hospital Admissions (PEDW) (n = 264,868)</td><td align="center">DRL</td><td align="center">216,062</td><td align="center">323</td><td align="center">48,483</td><td align="center">99.851%</td><td align="center">0.149%</td><td align="center">81.695%</td></tr><tr><td/><td colspan="7"><hr/></td></tr><tr><td/><td align="center">PRL &#x02013; 99% cut off</td><td align="center">244,692</td><td align="center">410</td><td align="center">19,766</td><td align="center">99.833%</td><td align="center">0.167%</td><td align="center">92.537%</td></tr><tr><td/><td colspan="7"><hr/></td></tr><tr><td/><td align="center">PRL &#x02013; 95% cut off</td><td align="center">247,865</td><td align="center">439</td><td align="center">16,564</td><td align="center">99.823%</td><td align="center">0.177%</td><td align="center">93.746%</td></tr><tr><td/><td colspan="7"><hr/></td></tr><tr><td/><td align="center">PRL &#x02013; 90% cut off</td><td align="center">249,024</td><td align="center">453</td><td align="center">15,391</td><td align="center">99.818%</td><td align="center">0.182%</td><td align="center">94.189%</td></tr><tr><td/><td colspan="7"><hr/></td></tr><tr><td/><td align="center">PRL &#x02013; 50% cut off</td><td align="center">250,155</td><td align="center">465</td><td align="center">14,248</td><td align="center">99.815%</td><td align="center">0.186%</td><td align="center">94.621%</td></tr></tbody></table><table-wrap-foot><p>This shows the level of agreement between NHS numbers supplied in the General Practice (GP) dataset (n = 229,117) and the Patient Episode Database for Wales (PEDW) dataset (n = 264,868) with those allocated by the matching process using by DRL and PRL. The NHS Administrative Register (NHSAR) was used as the reference.</p></table-wrap-foot></table-wrap></sec><sec><title>Varying the probability threshold and optimising the matching technique</title><p>The effect of varying the matching probability threshold and technique on the numbers of records that could be matched was assessed for each of the three test datasets and the results of these analyses are summarised in Table <xref ref-type="table" rid="T2">2</xref>. The percentage of records in the GP dataset that could be matched to the NHSAR was &#x0003e; 99.99%. Varying the acceptable PRL threshold for record matching had negligible effect on the high proportions matched. For the PEDW data, 91.1% of the sample records contained a valid NHS number and by combining these with DRL, the matching rate was increased to 96.6%. The highest match rate was achieved using the combination of valid NHS numbers, DRL and PRL at the 50% threshold.</p><table-wrap id="T2" position="float"><label>Table 2</label><caption><p>Levels of matched records using a variety of techniques.</p></caption><table frame="hsides" rules="groups"><thead><tr><th/><th align="center" colspan="6">Levels of matched records</th></tr></thead><tbody><tr><td/><td align="center" colspan="2">Primary Care General Practice<break/>(GP dataset)</td><td align="center" colspan="2">Secondary Care Hospital Admissions<break/>(PEDW dataset)</td><td align="center" colspan="2">Social Services<break/>(PARIS database)</td></tr><tr><td colspan="7"><hr/></td></tr><tr><td/><td align="center">Number</td><td align="center">%</td><td align="center">Number</td><td align="center">%</td><td align="center">Number</td><td align="center">%</td></tr><tr><td colspan="7"><hr/></td></tr><tr><td align="left">Sample size</td><td align="center">229,127</td><td/><td align="center">290,650</td><td/><td align="center">18,540</td><td/></tr><tr><td colspan="7"><hr/></td></tr><tr><td align="left">Valid NHS Number</td><td align="center">229,117</td><td align="center">99.996%</td><td align="center">264,868</td><td align="center">91.13%</td><td align="center">-</td><td align="center">0.00%</td></tr><tr><td colspan="7"><hr/></td></tr><tr><td align="left">Valid NHS Number plus DRL:</td><td align="center">229,123</td><td align="center">99.998%</td><td align="center">280,729</td><td align="center">96.59%</td><td align="center">14,158</td><td align="center">76.36%</td></tr><tr><td colspan="7"><hr/></td></tr><tr><td align="left">Valid NHS Number plus PRL (99% cut off):</td><td align="center">229,125</td><td align="center">99.999%</td><td align="center">287,572</td><td align="center">98.94%</td><td align="center">17,095</td><td align="center">92.21%</td></tr><tr><td colspan="7"><hr/></td></tr><tr><td align="left">Valid NHS Number plus PRL (95% cut off):</td><td align="center">229,125</td><td align="center">99.999%</td><td align="center">288,186</td><td align="center">99.15%</td><td align="center">17,431</td><td align="center">94.02%</td></tr><tr><td colspan="7"><hr/></td></tr><tr><td align="left">Valid NHS Number plus PRL (90% cut off):</td><td align="center">229,125</td><td align="center">99.999%</td><td align="center">288,424</td><td align="center">99.23%</td><td align="center">17,553</td><td align="center">94.68%</td></tr><tr><td colspan="7"><hr/></td></tr><tr><td align="left">Valid NHS Number plus PRL (50% cut off):</td><td align="center">229,125</td><td align="center">99.999%</td><td align="center">288,670</td><td align="center">99.32%</td><td align="center">17,639</td><td align="center">95.14%</td></tr><tr><td colspan="7"><hr/></td></tr><tr><td align="left"><bold>Overall combining Valid NHS, DRL &#x00026; PRL (50%):</bold></td><td align="center"><bold>229,125</bold></td><td align="center"><bold>99.999%</bold></td><td align="center"><bold>288,683</bold></td><td align="center"><bold>99.32%</bold></td><td align="center"><bold>17,642</bold></td><td align="center"><bold>95.16%</bold></td></tr></tbody></table><table-wrap-foot><p>The numbers (and percentages) of records that could be matched using deterministic record linkage (DRL) and a various thresholds of probabilistic record linkage (PRL) were assessed for each of three test datasets: the GP dataset, the PEDW dataset and the PARIS database. Records with a valid NHS number were accepted. The matching rate achieved by applying DRL followed by PRL (to the 50% threshold) was also assessed, and the final row shows this result of operating the MACRAL algorithm as illustrated in Figure 1.</p></table-wrap-foot></table-wrap><p>Of the 18,540 records in the PARIS database, 14,158 (76.4%) were successfully matched to the NHSAR with DRL, with further records being matched using various PRL thresholds. Again the combination of DRL and PRL (50%) yielded the greatest value with 95.2% records matched, leaving a remainder of only 4.8% that could not be matched.</p><p>The results obtained from these analyses informed the decision to operate the algorithm in the sequence shown in Figure <xref ref-type="fig" rid="F1">1</xref>. Firstly, having assessed the accuracy of NHS numbers in routine data and achieving a high degree of agreement with the NHSAR, records with valid NHS numbers are accepted. Next, DRL is carried out on the set of matching variables. Following from this, the remaining unmatched records are subjected to PRL methods down to the 50% threshold. Datasets from non-NHS organisations enter the process at DRL. As a result, an ALF can be allocated to the matched records and this is used as the linking field for each individual in the dataset.</p><fig id="F1" position="float"><label>Figure 1</label><caption><p><bold>The matching process conducted via the MACRAL algorithm</bold>. Firstly, records found to have a valid NHS number are accepted. The Matching Algorithm for Consistent Results in Anonymised Linkage (MACRAL) begins with DRL for exact matching on the set of five variables. Following from this, the remaining unmatched records are subjected to PRL methods down to the 50% threshold. Datasets from non-NHS organisations enter the process at DRL.</p></caption><graphic xlink:href="1472-6947-9-3-1"/></fig></sec></sec><sec><title>Discussion</title><sec><title>Assessing the accuracy of NHS numbers in routine data</title><p>This assessment confirmed the suitability of accepting a valid NHS number as the basis of allocating the unique identifier: the ALF. The error levels were extremely low, and as would be expected from its greater specificity, were lower for DRL than for PRL. However, PRL with its higher sensitivity resulted in a greater proportion of records being linked than DRL with only slightly higher error rates.</p></sec><sec><title>Varying the probability thresholds and optimising the matching technique</title><p>A comparison of probability thresholds and techniques using the GP data resulted in consistently high levels of records matched. As the NHSAR is essentially a list of all patients registered with general practices, whilst some anomalies may occur due to delays in registering new patients, very high levels of NHS number completeness and agreement with the NHSAR were to be expected. This was found to be true for DRL and any variant of PRL with negligible effects on the high proportions matched or on error levels.</p><p>High rates of matching were also achieved with the PEDW data demonstrating the notable efficacy of the methods. Although the PARIS database of social services data does not contain NHS numbers, it does contain names, genders, postcodes of residence and dates of birth. It would be expected, therefore, that the matching rates would be considerably lower than were obtained for the NHS datasets. However, using a combination of methods, over 95% of the records were matched. The success of matching on these criteria is a particularly significant result. It means that for datasets, such as these, that originate outside the healthcare sector, the ALF derived from the individual's NHS number (recorded on the NHSAR) can still be consistently applied to their anonymised records. This enables a broad scope for record-linkage studies.</p><p>In table <xref ref-type="table" rid="T2">2</xref>, the slightly greater numbers of records matched by the sequential process compared to PRL at the 50% threshold are most likely due to rare occurrences of duplicate records on the NHSAR. In those cases, records with an exact match on all five variables would be matched by DRL, but would not be matched by PRL as the highest score/second highest score would be &#x0003c; 2 (as set out in Figure <xref ref-type="fig" rid="F1">1</xref>).</p><p>It is recognised that the increase in sensitivity of lower threshold PRL is accompanied by a decrease in specificity. This increases the risk of acceptance of false positive matches which could have important implications for the analysis of health-related data, particularly if it is to be used to inform clinical practice. As we were unable to distinguish between types of error, we cannot quantify our false positive and false negative rates at this stage. Because of this, the record matching rate is taken into account when extracting data for analysis. The analysis can be repeated including and excluding the records matched at lower PRL thresholds to check for consistency in the results, and to inform the sample that should, therefore, be used for each particular application of the data.</p></sec><sec><title>Comparison with published literature</title><p>Record linkage is widely recognised as having far-reaching consequences for the development of innovative approaches to research [<xref ref-type="bibr" rid="B3">3</xref>,<xref ref-type="bibr" rid="B8">8</xref>]. This study has demonstrated high levels of matching efficacy across three disparate datasets in health and social care that compare favourably with the published literature. For example, specificity values of 100% [<xref ref-type="bibr" rid="B17">17</xref>], 99.4% [<xref ref-type="bibr" rid="B18">18</xref>], 98% [<xref ref-type="bibr" rid="B19">19</xref>] and 89.7% [<xref ref-type="bibr" rid="B20">20</xref>], with corresponding sensitivity rates of 92% [<xref ref-type="bibr" rid="B17">17</xref>], 99.2% [<xref ref-type="bibr" rid="B18">18</xref>], 94% [<xref ref-type="bibr" rid="B19">19</xref>] and 99.9% [<xref ref-type="bibr" rid="B20">20</xref>] have been reported across various types of record linkage study. The results also compare well with record linkage software packages, such as Link Plus and The Link King [<xref ref-type="bibr" rid="B21">21</xref>]. It is worth noting that variations obtained in matching efficacies may be due to the quality and levels of completeness of the datasets as well as to the technical aspects of the linkage systems.</p></sec></sec><sec><title>Conclusion</title><p>The matching technique described here has been shown to be a reliable tool to facilitate the allocation of a consistently applied ALF so that record linkage research studies can be conducted on disparate datasets across sectoral boundaries. It should be noted that the development of the MACRAL algorithm was pragmatic, and it has not been compared formally with commercially or publicly available algorithms. However, a comparison with numerous published accuracy and error rates showed similar or slightly better results.</p><p>The SAIL databank already holds over 500 million linked-anonymised records. Work is underway to expand the databank in terms of types of dataset, range of data-providing organisations and in geographical coverage. This will encompass broader data than health and social care so that the wider determinants of health can be taken into account. As a result of the infrastructure that has been established and the matching process that has been developed, the SAIL databank represents a research-ready platform for record-linkage studies and a valuable resource for health-related research and service development. Future work will be to carry out an empirical assessment of MACRAL to determine the actual sources of error and to further improve upon the efficacy of the algorithm.</p></sec><sec><title>Abbreviations</title><p>ALF: Anonymous Linking Field; MACRAL: Matching Algorithm for Consistent Results in Anonymised Linkage.</p></sec><sec><title>Competing interests</title><p>The authors declare that they have no competing interests.</p></sec><sec><title>Authors' contributions</title><p>RAL and DVF conceived and designed the study. GJ designed the matching algorithm. J-PV, GB, KL, GJ and CJB carried out the technical work and the analyses. KJ drafted the manuscript. All authors contributed to the manuscript and to the interpretation of the findings, and approved the final manuscript.</p></sec><sec><title>Pre-publication history</title><p>The pre-publication history for this paper can be accessed here:</p><p><ext-link ext-link-type="uri" xlink:href="http://www.biomedcentral.com/1472-6947/9/3/prepub">http://www.biomedcentral.com/1472-6947/9/3/prepub</ext-link></p></sec></body><back><sec><title>Acknowledgements</title><p>HIRU is supported by a grant from the Wales Office of Research &#x00026; Development, National Assembly for Wales.</p></sec><ref-list><ref id="B1"><mixed-citation publication-type="other"><collab>World Health Organization (WHO)</collab><source>Building foundations for e-health: progress of member states. Geneva</source><year>2006</year></mixed-citation></ref><ref id="B2"><mixed-citation publication-type="journal"><name><surname>Black</surname><given-names>N</given-names></name><article-title>High-quality clinical databases: breaking down barriers</article-title><source>Lancet</source><year>1999</year><volume>353</volume><fpage>1205</fpage><lpage>1206</lpage><pub-id pub-id-type="doi">10.1016/S0140-6736(99)00108-7</pub-id><pub-id pub-id-type="pmid">10217078</pub-id></mixed-citation></ref><ref id="B3"><mixed-citation publication-type="other"><collab>UK Clinical Research Collaboration (UKCRC)</collab><source>Clinical Research in the UK: Towards a single system that reliably delivers distinctive quality and rapid access at reasonable cost (The McKinsey Report)</source><year>2005</year><ext-link ext-link-type="uri" xlink:href="http://www.ukcrc.org/publications/reports.aspx">http://www.ukcrc.org/publications/reports.aspx</ext-link></mixed-citation></ref><ref id="B4"><mixed-citation publication-type="other"><collab>UKCRC</collab><source>UKCRC Progress Report (2004 &#x02013; 2006)</source><year>2006</year><ext-link ext-link-type="uri" xlink:href="http://www.ukcrc.org/publications/reports.aspx">http://www.ukcrc.org/publications/reports.aspx</ext-link></mixed-citation></ref><ref id="B5"><mixed-citation publication-type="other"><collab>Health Solutions Wales</collab><ext-link ext-link-type="uri" xlink:href="http://www.hsw.wales.nhs.uk/">http://www.hsw.wales.nhs.uk/</ext-link></mixed-citation></ref><ref id="B6"><mixed-citation publication-type="other"><name><surname>Ford</surname><given-names>DV</given-names></name><name><surname>Jones</surname><given-names>KH</given-names></name><name><surname>Verplancke</surname><given-names>J-P</given-names></name><name><surname>John</surname><given-names>G</given-names></name><name><surname>Brown</surname><given-names>G</given-names></name><name><surname>Lyons</surname><given-names>RA</given-names></name><name><surname>Brooks</surname><given-names>C</given-names></name><name><surname>Bodger</surname><given-names>O</given-names></name><name><surname>Couch</surname><given-names>T</given-names></name><name><surname>Leake</surname><given-names>K</given-names></name><article-title>The SAIL Programme: building a national architecture for e-health research and evaluation</article-title><comment> in press </comment></mixed-citation></ref><ref id="B7"><mixed-citation publication-type="book"><name><surname>Goldacre</surname><given-names>MJ</given-names></name><person-group person-group-type="editor">Glover J</person-group><article-title>The value of linked data for policy development, strategic planning, clinical practice and public health &#x02013; an international perspective</article-title><source>Symposium on Health Data Linkage</source><year>2003</year><publisher-name>Adelaide University: Public Health Information Development Unit</publisher-name></mixed-citation></ref><ref id="B8"><mixed-citation publication-type="journal"><name><surname>Black</surname><given-names>N</given-names></name><article-title>Secondary use of personal data for health and health services research: why identifiable data are essential</article-title><source>J Health Serv Res Policy</source><year>2003</year><volume>8</volume><issue>suppl 1</issue><fpage>36</fpage><lpage>40</lpage><pub-id pub-id-type="doi">10.1258/135581903766468873</pub-id><pub-id pub-id-type="pmid">12869337</pub-id></mixed-citation></ref><ref id="B9"><mixed-citation publication-type="journal"><collab>The West of Scotland Coronary Prevention Study Group</collab><article-title>Computerised record linkage: compared with traditional patient follow-up methods in clinical trials and illustrated in a prospective epidemiological study</article-title><source>Clin Epidemiol</source><year>1995</year><volume>48</volume><issue>12</issue><fpage>1441</fpage><lpage>1452</lpage><pub-id pub-id-type="doi">10.1016/0895-4356(95)00530-7</pub-id></mixed-citation></ref><ref id="B10"><mixed-citation publication-type="other"><collab>National Association of Health Data Organizations</collab><ext-link ext-link-type="uri" xlink:href="http://nahdo.org/CS/forums/t/88.aspx">http://nahdo.org/CS/forums/t/88.aspx</ext-link></mixed-citation></ref><ref id="B11"><mixed-citation publication-type="journal"><name><surname>Blakely</surname><given-names>T</given-names></name><name><surname>Salmond</surname><given-names>C</given-names></name><article-title>Probabilistic record linkage and a method to calculate the positive predictive value</article-title><source>International Journal of Epidemiology</source><year>2002</year><volume>31</volume><fpage>1246</fpage><lpage>1252</lpage><pub-id pub-id-type="doi">10.1093/ije/31.6.1246</pub-id><pub-id pub-id-type="pmid">12540730</pub-id></mixed-citation></ref><ref id="B12"><mixed-citation publication-type="journal"><name><surname>M&#x000e9;ray</surname><given-names>N</given-names></name><name><surname>Reitsma</surname><given-names>JB</given-names></name><name><surname>Ravelli</surname><given-names>ACJ</given-names></name><name><surname>Bonsel</surname><given-names>GJ</given-names></name><article-title>Probablistic record linkage is a valid and transparent tool to combine databases without a patient identification number</article-title><source>Journal of Clinical Epidemiology</source><year>2007</year><volume>60</volume><fpage>883</fpage><lpage>891</lpage><pub-id pub-id-type="doi">10.1016/j.jclinepi.2006.11.021</pub-id><pub-id pub-id-type="pmid">17689804</pub-id></mixed-citation></ref><ref id="B13"><mixed-citation publication-type="other"><collab>NHS Direct</collab><ext-link ext-link-type="uri" xlink:href="http://www.nhsdirect.nhs.uk/articles/article.aspx?articleId=896">http://www.nhsdirect.nhs.uk/articles/article.aspx?articleId=896</ext-link></mixed-citation></ref><ref id="B14"><mixed-citation publication-type="journal"><name><surname>Zobel</surname><given-names>J</given-names></name><name><surname>Dart</surname><given-names>P</given-names></name><article-title>Finding approximate matches in large lexicons</article-title><source>Software Practice and Experience</source><year>1995</year><volume>25</volume><issue>3</issue><fpage>331</fpage><lpage>345</lpage><pub-id pub-id-type="doi">10.1002/spe.4380250307</pub-id></mixed-citation></ref><ref id="B15"><mixed-citation publication-type="other"><collab>Connecting for Health</collab><article-title>Data dictionary</article-title><ext-link ext-link-type="uri" xlink:href="http://www.datadictionary.nhs.uk/data_dictionary/data_field_notes/n/nhs_number_de.asp">http://www.datadictionary.nhs.uk/data_dictionary/data_field_notes/n/nhs_number_de.asp</ext-link></mixed-citation></ref><ref id="B16"><mixed-citation publication-type="journal"><name><surname>Karmel</surname><given-names>R</given-names></name><name><surname>Gibson</surname><given-names>D</given-names></name><article-title>Event-based record linkage in health and aged care services data: a methodological innovation</article-title><source>BMC Health Services Research</source><year>2007</year><volume>7</volume><issue>154</issue><fpage>1</fpage><lpage>16</lpage><pub-id pub-id-type="pmid">17199886</pub-id></mixed-citation></ref><ref id="B17"><mixed-citation publication-type="other"><name><surname>Grannis</surname><given-names>SJ</given-names></name><name><surname>Overhage</surname><given-names>JM</given-names></name><name><surname>McDonald</surname><given-names>CJ</given-names></name><article-title>Analysis of identifier performance using a deterministic linkage algorithm</article-title><source>Proc AMIA Symp</source><year>2002</year><fpage>305</fpage><lpage>309</lpage><pub-id pub-id-type="pmid">12463836</pub-id></mixed-citation></ref><ref id="B18"><mixed-citation publication-type="other"><name><surname>Grannis</surname><given-names>SJ</given-names></name><name><surname>Overhage</surname><given-names>JM</given-names></name><name><surname>Hui</surname><given-names>S</given-names></name><name><surname>McDonald</surname><given-names>CJ</given-names></name><article-title>Analysis of a probabilistic record linkage technique without human review</article-title><source>AMIA Annu Symp Proc</source><year>2003</year><fpage>259</fpage><lpage>263</lpage><pub-id pub-id-type="pmid">14728174</pub-id></mixed-citation></ref><ref id="B19"><mixed-citation publication-type="journal"><name><surname>Jamieson</surname><given-names>E</given-names></name><name><surname>Roberts</surname><given-names>J</given-names></name><name><surname>Browne</surname><given-names>G</given-names></name><article-title>The feasibility and accuracy of anonymized record linkage to estimate shared clientele among three health and social service agencies</article-title><source>Methods Inf Med</source><year>1995</year><volume>34</volume><issue>4</issue><fpage>371</fpage><lpage>377</lpage><pub-id pub-id-type="pmid">7476469</pub-id></mixed-citation></ref><ref id="B20"><mixed-citation publication-type="journal"><name><surname>Ramsay</surname><given-names>CR</given-names></name><name><surname>Campbell</surname><given-names>MK</given-names></name><name><surname>Glazener</surname><given-names>CM</given-names></name><article-title>Linking Community Health Index and Scottish Morbidty Records for neonates: the Grampian experience</article-title><source>Health Bulletin (Edinburgh)</source><year>1999</year><volume>57</volume><issue>1</issue><fpage>70</fpage><lpage>75</lpage></mixed-citation></ref><ref id="B21"><mixed-citation publication-type="journal"><name><surname>Campbell</surname><given-names>KM</given-names></name><name><surname>Deck</surname><given-names>D</given-names></name><name><surname>Krupski</surname><given-names>A</given-names></name><article-title>Record linkage software in the public domain: a comparison of Link Plus, The Link King and a 'basic' deterministic algorithm</article-title><source>Health Informatics Journal</source><year>2008</year><volume>14</volume><fpage>5</fpage><lpage>15</lpage><pub-id pub-id-type="doi">10.1177/1460458208088855</pub-id><pub-id pub-id-type="pmid">18258671</pub-id></mixed-citation></ref></ref-list></back></article>