<!DOCTYPE article PUBLIC "-//NLM//DTD Journal Archiving and Interchange DTD v2.3 20070202//EN" "archivearticle.dtd"><article xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:mml="http://www.w3.org/1998/Math/MathML" article-type="research-article" xml:lang="EN"><?properties open_access?><front><journal-meta><journal-id journal-id-type="nlm-ta">Bioinformatics</journal-id><journal-id journal-id-type="publisher-id">bioinformatics</journal-id><journal-id journal-id-type="hwp">bioinfo</journal-id><journal-title>Bioinformatics</journal-title><issn pub-type="ppub">1367-4803</issn><issn pub-type="epub">1460-2059</issn><publisher><publisher-name>Oxford University Press</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="pmid">19038988</article-id><article-id pub-id-type="pmc">2638998</article-id><article-id pub-id-type="doi">10.1093/bioinformatics/btn617</article-id><article-id pub-id-type="publisher-id">btn617</article-id><article-categories><subj-group subj-group-type="heading"><subject>Applications Note</subject><subj-group><subject>Gene Expression</subject></subj-group></subj-group></article-categories><title-group><article-title>MAGETabulator, a suite of tools to support the microarray data format MAGE-TAB</article-title></title-group><contrib-group><contrib contrib-type="author"><name><surname>Rayner</surname><given-names>Tim F.</given-names></name><xref ref-type="aff" rid="AFF1"><sup>1</sup></xref><xref ref-type="corresp" rid="COR1">*</xref></contrib><contrib contrib-type="author"><name><surname>Rezwan</surname><given-names>Faisal Ibne</given-names></name><xref ref-type="aff" rid="AFF1"><sup>2</sup></xref></contrib><contrib contrib-type="author"><name><surname>Lukk</surname><given-names>Margus</given-names></name><xref ref-type="aff" rid="AFF1"><sup>1</sup></xref></contrib><contrib contrib-type="author"><name><surname>Bradley</surname><given-names>Xiangqun Zheng</given-names></name><xref ref-type="aff" rid="AFF1"><sup>1</sup></xref></contrib><contrib contrib-type="author"><name><surname>Farne</surname><given-names>Anna</given-names></name><xref ref-type="aff" rid="AFF1"><sup>1</sup></xref></contrib><contrib contrib-type="author"><name><surname>Holloway</surname><given-names>Ele</given-names></name><xref ref-type="aff" rid="AFF1"><sup>1</sup></xref></contrib><contrib contrib-type="author"><name><surname>Malone</surname><given-names>James</given-names></name><xref ref-type="aff" rid="AFF1"><sup>1</sup></xref></contrib><contrib contrib-type="author"><name><surname>Williams</surname><given-names>Eleanor</given-names></name><xref ref-type="aff" rid="AFF1"><sup>1</sup></xref></contrib><contrib contrib-type="author"><name><surname>Parkinson</surname><given-names>Helen</given-names></name><xref ref-type="aff" rid="AFF1"><sup>1</sup></xref></contrib></contrib-group><aff id="AFF1"><sup>1</sup>EMBL-EBI, Wellcome Trust Genome Campus, Hinxton CB10 1SD and <sup>2</sup>University of Hertfordshire, College Lane Campus, Hatfield, Hertforshire AL10 9AB, UK</aff><author-notes><fn><p>Associate Editor: David Rocke</p></fn><corresp id="COR1">*To whom correspondence should be addressed.</corresp></author-notes><pub-date pub-type="ppub"><day>15</day><month>1</month><year>2009</year></pub-date><pub-date pub-type="epub"><day>30</day><month>9</month><year>2008</year></pub-date><pub-date pub-type="pmc-release"><day>30</day><month>9</month><year>2008</year></pub-date><volume>25</volume><issue>2</issue><fpage>279</fpage><lpage>280</lpage><history><date date-type="received"><day>7</day><month>10</month><year>2008</year></date><date date-type="rev-recd"><day>24</day><month>11</month><year>2008</year></date><date date-type="accepted"><day>24</day><month>11</month><year>2008</year></date></history><permissions><copyright-statement>&#x000a9; 2008 The Author(s)</copyright-statement><copyright-year>2008</copyright-year><license license-type="creative-commons" xlink:href="http://creativecommons.org/licenses/by-nc/2.0/uk/"><p><!--CREATIVE COMMONS-->This is an Open Access article distributed under the terms of the Creative Commons Attribution Non-Commercial License (<ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/licenses/by-nc/2.0/uk/">http://creativecommons.org/licenses/by-nc/2.0/uk/</ext-link>) which permits unrestricted non-commercial use, distribution, and reproduction in any medium, provided the original work is properly cited.</p></license></permissions><abstract><p><bold>Summary:</bold> The MAGE-TAB format for microarray data representation and exchange has been proposed by the microarray community to replace the more complex MAGE-ML format. We present a suite of tools to support MAGE-TAB generation and validation, conversion between existing formats for data exchange, visualization of the experiment designs encoded by MAGE-TAB documents and the mining of such documents for semantic content.</p><p><bold>Availability:</bold> Software is available from <ext-link ext-link-type="uri" xlink:href="http://tab2mage.sourceforge.net/">http://tab2mage.sourceforge.net/</ext-link></p><p><bold>Contact:</bold> <email>tfrayner@gmail.com</email></p></abstract></article-meta></front><body><sec sec-type="intro" id="SEC1"><title>1 INTRODUCTION</title><p>The data standards developed by the microarray community are among the most mature in the field of functional genomics. These standards include a convention on the disclosure of experimental data and annotation (MIAME; Brazma <italic>et al</italic>., <xref ref-type="bibr" rid="B1">2001</xref>), an object model (MAGE; Spellman <italic>et al</italic>., <xref ref-type="bibr" rid="B5">2002</xref>) and a data exchange format (MAGE-ML), and have been widely adopted and used successfully for several years. The MAGE-ML format is highly flexible; however, it is more complex than is typically required for data exchange between applications, and has not been widely accepted. The newly introduced MAGE-TAB format (Rayner <italic>et al</italic>., <xref ref-type="bibr" rid="B3">2006</xref>), in contrast, is simpler, is human readable and can be opened and edited in any spreadsheet application. To support MAGE-TAB data exchange, demonstrate the utility of the format in dealing with high-throughput data, and make MAGE-TAB accessible to the bioinformatics community, we have developed a series of open-source Perl applications to address common MAGE-TAB use cases.</p></sec><sec id="SEC2"><title>2 SOFTWARE OVERVIEW</title><p>As shown in <xref ref-type="fig" rid="F1">Figure 1</xref>, MAGETabulator consists of a suite of tools that can be used singly or together to perform a variety of tasks: (i) preparation, syntactic and semantic validation of MAGE-TAB formatted data; (ii) visualization of investigation designs encoded in MAGE-TAB; (iii) conversion of MAGE-TAB documents to MAGE-ML format; (iv) conversion of NCBI Gene Expression Omnibus (GEO) SOFT records to MAGE-TAB format; and (v) support for automated <italic>post hoc</italic> addition of ontology terms to MAGE-TAB documents.<fig id="F1" position="float"><label>Fig. 1.</label><caption><p>Overview of MAGETabulator components. Green arrows represent processes generating MAGE-TAB, blue arrows show potential submission routes to data repositories and red arrows depict utility functions</p></caption><graphic xlink:href="btn617f1"/></fig></p><sec id="SEC2.1"><title>2.1 Preparation, validation and visualization of MAGE-TAB formatted data</title><p>The core components of MAGETabulator can be used to generate MAGE-TAB template documents which can be completed by the researcher, validate the syntax and check the content of the completed document, and parse the document and convert it into MAGE-ML. MAGETabulator thus facilitates the submission of MIAME-compliant data to public repositories which accept either MAGE-TAB or MAGE-ML documents.</p><sec id="SEC2.1.1"><title>2.1.1 Template generation and data submission</title><p>Template generation is implemented using a MySQL database to store semantic relationships between standard experiment types from the MGED Ontology (Whetzel <italic>et al</italic>., 2006) and the sample annotation and experimental variables expected for each experiment type. The user can generate a MAGE-TAB template relevant to their particular organism, technology type and the relevant biological aspects of the system under study. For example, a template produced for an experiment studying development in mice would include fields for mouse strain, sex, developmental stage, age and so on. These relationships are fully configurable via the underlying database. MAGETabulator supplies a Ruby on Rails curation web interface to simplify the template configuration process. The database and template generation web forms can be used via ArrayExpress (at <ext-link ext-link-type="uri" xlink:href="http://www.ebi.ac.uk/cgi-bin/microarray/magetab.cgi">http://www.ebi.ac.uk/cgi-bin/microarray/magetab.cgi</ext-link>), or installed and used locally. Data submissions to ArrayExpress which use MAGE-TAB can accurately describe a wider range of experiment types compared with those submitted using the MIAMExpress web interface, and are usually quicker and easier to complete for larger experiments.</p></sec><sec id="SEC2.1.2"><title>2.1.2 Experiment checker</title><p>The MAGE-TAB specification describes a flexible format for its documents. MAGETabulator includes a validation script which confirms that a given MAGE-TAB document is syntactically correct, that the content is internally consistent and that it contains all the elements required by the MIAME guidelines. Any associated data files are also checked for errors. This validator script is written in modular object-oriented Perl, using a recursive-descent parser to decode the document. The code is readily extensible to support parsing of new data file types. Optionally, the script can also use Graphviz (<ext-link ext-link-type="uri" xlink:href="http://www.graphviz.org/">http://www.graphviz.org/</ext-link>) to generate an experimental design graph to visualize the links between samples, hybridizations and data files.</p></sec></sec><sec id="SEC2.2"><title>2.2 Data exchange between applications</title><sec id="SEC2.2.1"><title>2.2.1 MAGE-TAB to MAGE-ML converter</title><p>MAGETabulator provides a tool for converting a validated MAGE-TAB document into MAGE-ML format. The output is fully compliant with current best practices for encoding experimental metadata in MAGE-ML, and conforms to the ArrayExpress standard for data submissions. While the degree of semantic information expressable in MAGE-ML is greater than that for MAGE-TAB, in practice this extra flexibility is very rarely used. ArrayExpress uses MAGE-ML internally such that all annotation is retained from data submissions using either format.</p></sec><sec id="SEC2.2.2"><title>2.2.2 SOFT to MAGE-TAB converter</title><p>To promote data exchange between the GEO and ArrayExpress databases, we have created a pipeline application which can generate MAGE-TAB directly from a GEO Series record, as part of the GEOImport package. In its simplest form, fields in the SOFT file are mapped directly to their counterparts in a new MAGE-TAB document.</p></sec></sec><sec id="SEC2.3"><title>2.3 Semantic support for MAGE-TAB documents</title><p>The MAGE-TAB format consists entirely of tab-delimited text, and imposes no intrinsic restrictions on the terms used to annotate an experiment. We have therefore adopted a <italic>post hoc</italic> validation and ontology term matching strategy to provide machine-readable semantic content in the output documents.</p><sec id="SEC2.3.1"><title>2.3.1 GEOImport</title><p>Annotation of sample characteristics and other experimental variables in the GEO database is heavily reliant on free text. To improve annotation consistency, MAGETabulator uses a tool that searches for candidate ontology terms within free text descriptions. The tool was implemented using the Java Finite Automata class library monq.jfa (<ext-link ext-link-type="uri" xlink:href="http://www.ebi.ac.uk/Rebholz-srv/whatizit/software">http://www.ebi.ac.uk/Rebholz-srv/whatizit/software</ext-link>), and is incorporated into the GEO import pipeline.</p></sec><sec id="SEC2.3.2"><title>2.3.2 Post hoc <italic>additions to MAGE-TAB documents</italic></title><p>The MAGE-TAB format supports encoding not only ontology term names, but also their identifiers/accession numbers and the ontologies from which they are derived. This information is optional, however, so MAGETabulator uses the &#x02018;Double Metaphone&#x02019; phonetic algorithm (Philips, <xref ref-type="bibr" rid="B2">1990</xref>) to match terms used to annotate an experiment to terms from any ontology in OBO format (<ext-link ext-link-type="uri" xlink:href="http://www.geneontology.org/GO.format.obo-1_2.shtml">http://www.geneontology.org/GO.format.obo-1_2.shtml</ext-link>; Smith <italic>et al</italic>., <xref ref-type="bibr" rid="B4">2007</xref>). The script reads in an input MAGE-TAB document and produces a new MAGE-TAB document including the matched term identifiers and ontology source.</p></sec></sec></sec><sec sec-type="discussion" id="SEC3"><title>3 DISCUSSION</title><p>The representation of high-throughput array-based data using simple spreadsheets has allowed us to develop a suite of tools that enable a biologist with Perl skills to manage these data. The tools have been developed, tested and used extensively at the ArrayExpress database and, since February 2008, have become the major route of submission to ArrayExpress.</p><p>The MAGETabulator project is publicly available on the SourceForge web site <ext-link ext-link-type="uri" xlink:href="http://tab2mage.sourceforge.net">http://tab2mage.sourceforge.net</ext-link>, where the code is maintained in a Subversion repository and made available for download as part of the Tab2MAGE package. Researchers who generate and use array data will benefit from the free availability of tools that bring data submission within reach of a large segment of the community.</p></sec></body><back><ack><title>Acknowledgements</title><p>We acknowledge Midori Harris and Alvis Brazma for helpful comments on the article.</p><p><italic>Funding</italic>: EMBL; EC grants EMERALD; MUGEN; FELICS; NHGRI; NIDDIB grants.</p><p><italic>Conflict of Interest</italic>: none declared.</p></ack><ref-list><title>REFERENCES</title><ref id="B1"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Brazma</surname><given-names>A</given-names></name><etal/></person-group><article-title>Minimum information about a microarray experiment (MIAME) &#x02014; toward standards for microarray data</article-title><source>Nat. Genet</source><year>2001</year><volume>29</volume><fpage>365</fpage><lpage>371</lpage><pub-id pub-id-type="pmid">11726920</pub-id></citation></ref><ref id="B2"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Philips</surname><given-names>L</given-names></name></person-group><source>Computer Language</source><year>1990</year><volume>7</volume></citation></ref><ref id="B3"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Rayner</surname><given-names>TF</given-names></name><etal/></person-group><article-title>A simple spreadsheet-based, MIAME-supportive format for microarray data</article-title><source>BMC Bioinformatics</source><year>2006</year><volume>7</volume><fpage>489</fpage><pub-id pub-id-type="pmid">17087822</pub-id></citation></ref><ref id="B4"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Smith</surname><given-names>BS</given-names></name><etal/></person-group><article-title>The OBO foundry: coordinated evolution of ontologies to support biomedical data integration</article-title><source>Nat. Biotechnol</source><year>2007</year><volume>25</volume><fpage>1251</fpage><lpage>1255</lpage><pub-id pub-id-type="pmid">17989687</pub-id></citation></ref><ref id="B5"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Spellman</surname><given-names>PT</given-names></name><etal/></person-group><article-title>Design and implementation of microarray gene expression markup language (MAGE-ML)</article-title><source>Genome Biol</source><year>2002</year><volume>3</volume><comment>RESEARCH0046.</comment></citation></ref><ref id="B6"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Whetzel</surname><given-names>PL</given-names></name><etal/></person-group><article-title>The MGED Ontology: a resource for semantics-based description of microarray experiments</article-title><source>Bioinformatics</source><year>2008</year><fpage>22</fpage><fpage>866</fpage><lpage>873</lpage></citation></ref></ref-list></back></article>